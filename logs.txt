root@ing-wyze-cam3-a000 opt# ./streamer
[I 883017036] MODULE: Initializing module system
[I 883017896] MODULE: Module system initialized successfully
[I 883018692] MODULE: Registered module 'rtsp' v1.0.0 (RTSP streaming server module)
[D 883019624] main: Starting streamer - PID: 3491
[I 883020136] main: Channel metrics initialized (legacy mode)
[D 883020513] CONFIG: Using config file /opt/streamer.json
[I 883020770] CONFIG: Loading configuration from: /opt/streamer.json
[I 883021387] CONFIG: JSON configuration loaded successfully
[D 883021708] CONFIG: Parsing JSON configuration values...
[D 883022278] CONFIG: Parsed JPEG config: enabled=true, quality=85, channel=2
[D 883022546] CONFIG: Found streams array at root level
[D 883022768] CONFIG: Found streams array with 2 elements
[D 883022992] CONFIG: Allocated streams array for 2 streams
[D 883023242] CONFIG: Parsed resolution '1920x1080' as 1920x1080
[D 883023444] CONFIG: Parsed stream[0]: 1920x1080, endpoint=ch0
[D 883023830] CONFIG: Parsed resolution '640x360' as 640x360
[D 883024091] CONFIG: Parsed stream[1]: 640x360, endpoint=ch1
[D 883024274] CONFIG: JSON configuration parsed successfully
[D 883024502] CONFIG:   Stream[0]: 1920x1080, bitrate=2048kbps, endpoint='ch0'
[D 883025427] CONFIG:   Stream[1]: 640x360, bitrate=512kbps, endpoint='ch1'
[I 883025835] CONFIG: Configuration monitoring thread started
[I 883026145] CONFIG: Configuration initialized successfully
[D 883026372] main: Streamer configuration loaded successfully
[W 883026593] MODULE: Module system already initialized
[I 883026809] main: Module system initialized
[I 883027038] MODULE: Initializing 1 registered modules
[I 883027220] MODULE: Initializing module 'rtsp'
[D 883027392] MODULE: Trying module config: /opt/rtsp.json
[I 883028224] MODULE: Loading config for module 'rtsp' from /opt/rtsp.json (binary dir)
[I 883029062] RTSP_MODULE: RTSP config loaded - port: 554, enabled: true, TLS: disabled (port: 322)
[I 883029138] RTSP_MODULE: RTSP auth config - enabled: false, username: 'admin', password: 'admin'
[I 883029517] MODULE: Module 'rtsp' config loaded successfully
[I 883029576] MODULE: Module 'rtsp' initialized successfully
[I 883029614] MODULE: Module initialization complete: 1 success, 0 errors
[I 883029654] main: Modules initialized
[D 883029688] SENSOR: Getting sensor information from /proc/jz/sensor
[D 883030234] SENSOR:   name: gc2053
[D 883031302] SENSOR:   chip_id: 0x2053
[D 883031805] SENSOR:   version: H20230726a
[D 883032371] SENSOR:   i2c_addr: 0x37
[D 883033259] SENSOR:   width: 1920
[D 883033790] SENSOR:   height: 1080
[D 883034758] SENSOR:   min_fps: 5
[D 883035297] SENSOR:   max_fps: 40
[E 883035745] SENSOR: File /proc/jz/sensor/i2c_bus not found
[E 883036073] SENSOR: Using default value 0 for i2c_bus
[E 883036380] SENSOR: File /proc/jz/sensor/boot not found
[E 883036730] SENSOR: Using default value 0 for boot
[E 883037108] SENSOR: File /proc/jz/sensor/mclk not found
[E 883037583] SENSOR: Using default value 1 for mclk
[E 883037700] SENSOR: File /proc/jz/sensor/video_interface not found
[E 883038070] SENSOR: Using default value 0 for video_interface
[E 883038187] SENSOR: File /proc/jz/sensor/reset_gpio not found
[E 883038528] SENSOR: Using default value 91 for reset_gpio
[D 883038584] SENSOR: Sensor info: gc2053 (1920x1080@40fps, i2c:0x37)
[D 883038634] main: Sensor info read successfully
[D 883038675] SENSOR: Validating configuration against sensor capabilities
[I 883038988] SENSOR: Sensor configuration: 1920x1080@20fps
[I 883039266] SENSOR: All streams will use sensor FPS: 20fps
[D 883039766] main: Configuration validated and adjusted based on sensor capabilities
[D 883039832] main: System init start
[I 883036030] CONFIG: Configuration monitoring started for: /opt/streamer.json
[I 883039915] main: Opening ISP...
[IMP_ISP] Open: opened /dev/tx-isp (fd=4)
[I 883041716] main: ISP opened successfully
[I 883041758] main: Adding sensor...
[IMP_ISP] AddSensor: enum idx=0 name='gc2053'
[IMP_ISP] AddSensor: found matching sensor at index 0
[IMP_ISP] AddSensor: using sensor_idx=0 for gc2053
[IMP_ISP] AddSensor: calling TX_ISP_SENSOR_SET_INPUT with index=0
[IMP_ISP] AddSensor: TX_ISP_SENSOR_SET_INPUT succeeded
[IMP_ISP] AddSensor: ISP buffer info: addr=0x0 size=4685424
[DMA] DMA init: using /dev/rmem
[DMA] DMA init: /dev/rmem mapped at 0x75208000 size=30408704 base_phys=0x06300000
[DMA] Alloc: (unnamed) size=4685424 phys=0x6300000 virt=0x75208000 (rmem off=0x0)
[IMP_ISP] AddSensor: allocated ISP buffer: virt=0x75208000 phys=0x6300000 size=4685424
[IMP_ISP] AddSensor: calling TX_ISP_SET_BUF with addr=0x6300000 size=4685424
[IMP_ISP] AddSensor: TX_ISP_SET_BUF succeeded
[IMP_ISP] AddSensor: gc2053 (idx=0, buf_size=4685424)
[I 883268016] main: Sensor added successfully
[I 883269173] COMMON: System memory: 93 MB
[I 883269704] COMMON: Detected low-memory device: 93 MB total RAM
[I 883269947] COMMON: Skipping explicit memory pools - relying on reduced buffer counts
[I 883270242] COMMON: Low-memory optimizations rely on:
[I 883270351] COMMON:   - Reduced nrVBs (1 buffer per channel)
[I 883270395] COMMON:   - Smaller OSD pool (512KB)
[I 883270433] COMMON:   - Disabled unused channels
[I 883270544] COMMON:   - Let IMP system manage RMEM automatically
[I 883270584] main: Calling IMP_System_Init()...
[System] Initializing...
[System] Subsystems initialized
[System] Initialized (IMP-1.1.6)
[I 883270991] main: IMP_System_Init() returned: 0
[I 883271116] main: System initialized successfully
[I 883271157] main: Enabling sensor...
[IMP_ISP] EnableSensor: calling ioctl 0x40045626 (GET_SENSOR_INDEX)
[IMP_ISP] EnableSensor: ioctl 0x40045626 succeeded, sensor_idx=0
[IMP_ISP] EnableSensor: calling ioctl 0x80045612 (ISP STREAMON)
[IMP_ISP] EnableSensor: ioctl 0x80045612 succeeded
[IMP_ISP] EnableSensor: calling ioctl 0x800456d0 (LINK_SETUP)
[IMP_ISP] EnableSensor: ioctl 0x800456d0 succeeded, result=0
[IMP_ISP] EnableSensor: calling ioctl 0x800456d2 (LINK_STREAM_ON)
[IMP_ISP] EnableSensor: ioctl 0x800456d2 succeeded
[IMP_ISP] EnableSensor: ISP stabilization delay complete
[IMP_ISP] EnableSensor: sensor enabled (idx=0)
[I 883372332] main: Sensor enabled successfully
[IMP_ISP] EnableTuning
[D 883372407] main: ISP tuning enabled successfully
[IMP_ISP] SetContrast: 128
[D 883372469] main: ISP tuning contrast set to 128
[IMP_ISP] SetSharpness: 128
[D 883372526] main: ISP tuning sharpness set to 128
[IMP_ISP] SetSaturation: 128
[D 883372880] main: ISP tuning saturation set to 128
[IMP_ISP] SetBrightness: 128
[D 883372947] main: ISP tuning brightness set to 128
[IMP_ISP] SetISPRunningMode: 0
[D 883373005] main: ISP running mode set to DAY
[IMP_ISP] SetSensorFPS: 20/1
[I 883373340] main: Sensor FPS set to 20/1 (all channels use sensor FPS)
[I 883373382] main: Verified sensor FPS: 25/1 (25.00 fps)
[I 883373448] COMMON: Channel 0: enabled=1, format='H264' -> payloadType=0x1 (H264), 1920x1080@20/1fps
[I 883373768] COMMON: Channel 1: enabled=0, format='H264' -> payloadType=0x1 (H264), 640x360@20/1fps, scaler=enabled
[D 883373824] COMMON: Updated channel configuration from JSON config: ch0=1, ch1=0, ch2=0, ch3=0
[D 883373861] main: Configuration applied to channels successfully
[W 883373896] COMMON: Applying memory optimizations for low-memory device
[I 883373931] COMMON: Low-memory optimizations applied:
[I 883374218] COMMON:   - Buffer optimization: nrVBs=1, FIFO depth=0
[I 883374288] COMMON:   - Channel enabling: Based on configuration
[I 883374326] COMMON:   - Channels 2-3: Not used in current setup
[I 883374361] COMMON:   - Output resolution: Handled by RTSP module
[I 883374396] COMMON: SUCCESS: optimized with configuration-driven channel management
[FrameSource] CreateChn: Opened /dev/framechan0 (fd=6)
[System] Registered module [0,0]: FrameSource
[FrameSource] CreateChn: registered FrameSource module [0,0] with 1 output
[FrameSource] CreateChn: chn=0, 1920x1080, fmt=0xa
[D 883375071] main: FrameSource channel 0 created
[W 883375113] main: 64MB device: Setting FIFO depth to 0
[D 883375148] main: Using buffer depth 1 for channel 0
[FrameSource] SetChnFifoAttr: chn=0, maxdepth=0, depth=0
[I 883375680] main: FrameSource channel 0: FIFO buffer depth set to 0 frames
[FrameSource] SetChnAttr: chn=0, 1920x1080, fmt=0xa
[D 883375786] main: FrameSource channel 0 attributes set
[D 883375824] main: FrameSource channel 1 not enabled
[D 883375860] main: FrameSource channel 2 not enabled
[D 883376156] main: FrameSource channel 3 not enabled
[D 883376206] main: FrameSource initialized successfully
[System] Registered module [1,0]: Encoder
[Encoder] CreateGroup: registered Encoder module [1,0] with 1 output and update callback
[Encoder] CreateGroup: grp=0
[I 883376625] main: Encoder group 0 created successfully
[I 883376668] main: Encoder group 1 not enabled
[I 883376704] main: Encoder group 2 not enabled
[I 883376739] main: Encoder group 3 not enabled
[Encoder] SetMaxStreamCnt: chn=0, cnt=2
[I 883377076] main: Channel 0: Set 2 stream buffers for low-memory device
[Encoder] SetStreamBufSize: chn=0, size=262144
[I 883377158] main: Channel 0: Set 256KB stream buffer size for low-memory device
[I 883377198] main: Channel 0: Set 2 stream buffers, 262144 bytes each
[Encoder] SetChnEntropyMode: chn=0, mode=2
[I 883377565] main: Channel 0: payloadType=0x1, computed profile=0x42
[Encoder] SetDefaultParam: 1920x1080, 20/1 fps, profile=66, rc=1
[I 883377633] main: Encoder channel 0 configured: 1920x1080@20/1fps, GOP=20, bitrate=2000kbps, mode=CBR
[Codec] SetDefaultParam: initialized
[Encoder] channel_encoder_init: 1920x1080, profile=0x42->0x42, fps=20/1, gop=20, bitrate=0
[Fifo] Init: size=4, max_elements=5
[Fifo] Init: size=7, max_elements=8
[Codec] Create: vendor library will handle hardware acceleration via /dev/avpu
[Codec] Create: codec=0x752050d0, channel=0
[Encoder] channel_encoder_init: frame_cnt=4, frame_size=1048576
[Fifo] Init: size=4, max_elements=5
[Encoder] CreateChn: chn=0, profile=66 created successfully
[Encoder] SetChnGopLength: chn=0, gop=20
[Encoder] RequestIDR: chn=0
[HW_Encoder] RequestIDR: next frame will be IDR
[Encoder] RegisterChn: grp=0, chn=0
[I 883379469] main: Encoder initialized successfully
[I 883379781] main: Initializing JPEG encoder for channel 4 (stream 0)
[Encoder] SetDefaultParam: 1920x1080, 20/1 fps, profile=67108864, rc=0
[D 883379869] main: Set default JPEG parameters for channel 4: 1920x1080
[Codec] SetDefaultParam: initialized
[Encoder] channel_encoder_init: 1920x1080, profile=0x4000000->0x0, fps=20/1, gop=0, bitrate=0
[Fifo] Init: size=4, max_elements=5
[Fifo] Init: size=7, max_elements=8
[Codec] Create: vendor library will handle hardware acceleration via /dev/avpu
[Codec] Create: codec=0x75205b80, channel=1
[Encoder] channel_encoder_init: frame_cnt=4, frame_size=1048576
[Fifo] Init: size=4, max_elements=5
[Encoder] CreateChn: chn=4, profile=67108864 created successfully
[D 883381461] main: Created JPEG channel 4
[Encoder] RegisterChn: grp=0, chn=4
[D 883381539] main: Registered JPEG channel 4 to group 0
[I 883381571] main: JPEG encoder channel 4 initialized successfully
[I 883381609] main: Stream 1 disabled, skipping JPEG encoder initialization
[I 883381917] main: Binding FrameSource -> Encoder for channel 0 (OSD disabled)
[System] Bind request: [0,0,0] -> [1,0,0]
[System] Binding [0,0,0] -> [1,0,0]
[System] Bound FrameSource -> Encoder (observer added)
[I 883382061] main: Bound FrameSource -> Encoder for channel 0
[I 883382091] main: Channel 1 not enabled, skipping bind
[I 883382400] main: Channel 2 not enabled, skipping bind
[I 883382449] main: Channel 3 not enabled, skipping bind
[I 883382499] main: Enabling FrameSource channel 0
[I 883382533] main: Channel 0: nrVBs=1, resolution=1920x1080
[FrameSource] GetChnFifoAttr: chn=0 -> maxdepth=1, depth=1
[I 883382874] main: Channel 0: FIFO maxdepth=1, type=1
[I 883382910] main: Channel 0: Expected VBM allocation ~3110400 bytes (3.0MB) for 1 buffers
[KernelIF] Set format: 1920x1080 fmt=0xa (fourcc=0x3231564e) sizeimage=3110400->3133440 bytesperline=2880 colorspace=8
[FrameSource] EnableChn: using sizeimage=3133440 from SET_FMT for chn=0
[KernelIF] Set buffer count: 4 (actual: 4)
[VBM] CreatePool: invalid frame_count=0, using default 4
[VBM] CreatePool: allocating pool_size=4640 (frame_count=4 * 0x428 + 0x180)
[VBM] CreatePool: chn=0, 1920x1080 fmt=0xa, 4 frames, size=3133440
[DMA] Alloc: ܅� siz�� size=12533760 phys=0x6778000 virt=0x75680000 (rmem off=0x478000)
[VBM] Frame 0: phys=0x6778000 virt=0x75680000
[VBM] Frame 1: phys=0x6a75000 virt=0x7597d000
[VBM] Frame 2: phys=0x6d72000 virt=0x75c7a000
[VBM] Frame 3: phys=0x706f000 virt=0x75f77000
[VBM] CreatePool: chn=0 created successfully
[VBM] FillPool: chn=0, filling 4 frames
[VBM] FillPool: queued 4 frames
[VBM] PrimeKernelQueue: idx=0 querybuf=0, using frame size=3133440 (NV12 would be 3110400, w=1920 h=1080)
[VBM] PrimeKernelQueue: idx=1 querybuf=0, using frame size=3133440 (NV12 would be 3110400, w=1920 h=1080)
[VBM] PrimeKernelQueue: idx=2 querybuf=0, using frame size=3133440 (NV12 would be 3110400, w=1920 h=1080)
[VBM] PrimeKernelQueue: idx=3 querybuf=0, using frame size=3133440 (NV12 would be 3110400, w=1920 h=1080)
[VBM] PrimeKernelQueue: queued 4 frames to kernel for chn=0
[KernelIF] Stream started
[FrameSource] EnableChn: chn=0 enabled successfully
[Encoder] stream_thread: started for channel 4
[Encoder] stream_thread: started for channel 0
[Encoder] encoder_thread: started for channel 0
[Encoder] encoder_thread: started for channel 4
[I 883387921] main: FrameSource channel 0 enabled successfully
[I 883387967] main: FrameSource stream started successfully
[I 883388003] main: OSD updates will be handled by OSD module
[Encoder] RequestIDR: chn=0
[HW_Encoder] RequestIDR: next frame will be IDR
[Encoder] StartRecvPic: chn=0
[I 883388419] main: Encoder channel 0 started receiving pictures
[Encoder] RequestIDR: chn=0
[HW_Encoder] RequestIDR: next frame will be IDR
[I 883388503] MODULE: Starting all initialized modules
[I 883388815] MODULE: Starting module 'rtsp'
[I 883388865] RTSP_MODULE: Starting RTSP module
[D 883388927] RTSP: Creating RTSP server on port 554
[D 883389031] RTSP: Copying RTSP server configuration
[D 883389401] RTSP: Initializing GOP cache
[D 883389455] RTSP: Initializing GOP cache for channel 0
[D 883389763] RTSP: Initializing frame buffers for channel 0
[D 883389807] RTSP: Allocating frame buffer 0 for channel 0
[D 883389878] RTSP: Allocating frame buffer 1 for channel 0
[D 883390029] RTSP: Allocating frame buffer 2 for channel 0
[D 883390593] RTSP: Allocating frame buffer 3 for channel 0
[D 883391180] RTSP: Allocating frame buffer 4 for channel 0
[D 883391272] RTSP: Allocating frame buffer 5 for channel 0
[D 883391646] RTSP: Allocating frame buffer 6 for channel 0
[D 883391715] RTSP: Allocating frame buffer 7 for channel 0
[D 883392088] RTSP: Allocating frame buffer 8 for channel 0
[D 883392147] RTSP: Allocating frame buffer 9 for channel 0
[D 883392237] RTSP: Allocating frame buffer 10 for channel 0[FrameSource] frame_capture_thread: started for channel 0, state=2, fd=6

[D 883392691] RTSP: Allocating frame buffer 11 for channel 0
[D 883392746] RTSP: Allocating frame buffer 12 for channel 0
[D 883392991] RTSP: Allocating frame buffer 13 for channel 0
[D 883393399] RTSP: Allocating frame buffer 14 for channel 0
[D 883393457] RTSP: Allocating frame buffer 15 for channel 0
[D 883393805] RTSP: Allocating frame buffer 16 for channel 0
[D 883393882] RTSP: Allocating frame buffer 17 for channel 0
[D 883393924] RTSP: Allocating frame buffer 18 for channel 0
[D 883394301] RTSP: Allocating frame buffer 19 for channel 0
[D 883394367] RTSP: Allocating frame buffer 20 for channel 0
[D 883394899] RTSP: Allocating frame buffer 21 for channel 0
[D 883395002] RTSP: Allocating frame buffer 22 for channel 0
[D 883395055] RTSP: Allocating frame buffer 23 for channel 0
[D 883395264] RTSP: Allocating frame buffer 24 for channel 0
[D 883395323] RTSP: Allocating frame buffer 25 for channel 0
[D 883395613] RTSP: Allocating frame buffer 26 for channel 0
[D 883395975] RTSP: Allocating frame buffer 27 for channel 0
[D 883396053] RTSP: Allocating frame buffer 28 for channel 0
[D 883396097] RTSP: Allocating frame buffer 29 for channel 0
[D 883396451] RTSP: Allocating frame buffer 30 for channel 0
[D 883396513] RTSP: Allocating frame buffer 31 for channel 0
[D 883396577] RTSP: Allocating frame buffer 32 for channel 0
[D 883396937] RTSP: Allocating frame buffer 33 for channel 0
[D 883396995] RTSP: Allocating frame buffer 34 for channel 0
[D 883397344] RTSP: Allocating frame buffer 35 for channel 0
[D 883397399] RTSP: Allocating frame buffer 36 for channel 0
[D 883397463] RTSP: Allocating frame buffer 37 for channel 0
[D 883397824] RTSP: Allocating frame buffer 38 for channel 0
[D 883397889] RTSP: Allocating frame buffer 39 for channel 0
[D 883398259] RTSP: Allocating frame buffer 40 for channel 0
[D 883398344] RTSP: Allocating frame buffer 41 for channel 0
[D 883398413] RTSP: Allocating frame buffer 42 for channel 0
[D 883398628] RTSP: Allocating frame buffer 43 for channel 0
[D 883398694] RTSP: Allocating frame buffer 44 for channel 0
[D 883398743] RTSP: Allocating frame buffer 45 for channel 0
[D 883398783] RTSP: Allocating frame buffer 46 for channel 0
[D 883398934] RTSP: Allocating frame buffer 47 for channel 0
[D 883398994] RTSP: Allocating frame buffer 48 for channel 0
[D 883399141] RTSP: Allocating frame buffer 49 for channel 0
[D 883399194] RTSP: Allocating frame buffer 50 for channel 0
[D 883399335] RTSP: Allocating frame buffer 51 for channel 0
[D 883399405] RTSP: Allocating frame buffer 52 for channel 0
[D 883399575] RTSP: Allocating frame buffer 53 for channel 0
[D 883399718] RTSP: Allocating frame buffer 54 for channel 0
[D 883399771] RTSP: Allocating frame buffer 55 for channel 0
[D 883399907] RTSP: Allocating frame buffer 56 for channel 0
[D 883399967] RTSP: Allocating frame buffer 57 for channel 0
[D 883400171] RTSP: Allocating frame buffer 58 for channel 0
[D 883400225] RTSP: Allocating frame buffer 59 for channel 0
[D 883400271] RTSP: Initializing GOP cache for channel 1
[D 883400420] RTSP: Initializing frame buffers for channel 1
[D 883400458] RTSP: Allocating frame buffer 0 for channel 1
[D 883400503] RTSP: Allocating frame buffer 1 for channel 1
[D 883400663] RTSP: Allocating frame buffer 2 for channel 1
[D 883400825] RTSP: Allocating frame buffer 3 for channel 1
[D 883400875] RTSP: Allocating frame buffer 4 for channel 1
[D 883401031] RTSP: Allocating frame buffer 5 for channel 1
[D 883401080] RTSP: Allocating frame buffer 6 for channel 1
[D 883401230] RTSP: Allocating frame buffer 7 for channel 1
[D 883401283] RTSP: Allocating frame buffer 8 for channel 1
[D 883401428] RTSP: Allocating frame buffer 9 for channel 1
[D 883401479] RTSP: Allocating frame buffer 10 for channel 1
[D 883401624] RTSP: Allocating frame buffer 11 for channel 1
[D 883401692] RTSP: Allocating frame buffer 12 for channel 1
[D 883401853] RTSP: Allocating frame buffer 13 for channel 1
[D 883402004] RTSP: Allocating frame buffer 14 for channel 1
[D 883402056] RTSP: Allocating frame buffer 15 for channel 1
[D 883402203] RTSP: Allocating frame buffer 16 for channel 1
[D 883402593] RTSP: Allocating frame buffer 17 for channel 1
[D 883402681] RTSP: Allocating frame buffer 18 for channel 1
[D 883402729] RTSP: Allocating frame buffer 19 for channel 1
[D 883402888] RTSP: Allocating frame buffer 20 for channel 1
[D 883402938] RTSP: Allocating frame buffer 21 for channel 1
[D 883403002] RTSP: Allocating frame buffer 22 for channel 1
[D 883403177] RTSP: Allocating frame buffer 23 for channel 1
[D 883403331] RTSP: Allocating frame buffer 24 for channel 1
[D 883403385] RTSP: Allocating frame buffer 25 for channel 1
[D 883403530] RTSP: Allocating frame buffer 26 for channel 1
[D 883403583] RTSP: Allocating frame buffer 27 for channel 1
[D 883403955] RTSP: Allocating frame buffer 28 for channel 1
[D 883404163] RTSP: Allocating frame buffer 29 for channel 1
[D 883404218] RTSP: Allocating frame buffer 30 for channel 1
[D 883404367] RTSP: Allocating frame buffer 31 for channel 1
[D 883404447] RTSP: Allocating frame buffer 32 for channel 1
[D 883404621] RTSP: Allocating frame buffer 33 for channel 1
[D 883404770] RTSP: Allocating frame buffer 34 for channel 1
[D 883404822] RTSP: Allocating frame buffer 35 for channel 1
[D 883404964] RTSP: Allocating frame buffer 36 for channel 1
[D 883405017] RTSP: Allocating frame buffer 37 for channel 1
[D 883405163] RTSP: Allocating frame buffer 38 for channel 1
[D 883405213] RTSP: Allocating frame buffer 39 for channel 1
[D 883405369] RTSP: Allocating frame buffer 40 for channel 1
[D 883405587] RTSP: Allocating frame buffer 41 for channel 1
[D 883405658] RTSP: Allocating frame buffer 42 for channel 1
[D 883406331] RTSP: Allocating frame buffer 43 for channel 1
[D 883406415] RTSP: Allocating frame buffer 44 for channel 1
[D 883406749] RTSP: Allocating frame buffer 45 for channel 1
[D 883406865] RTSP: Allocating frame buffer 46 for channel 1
[D 883407209] RTSP: Allocating frame buffer 47 for channel 1
[D 883407270] RTSP: Allocating frame buffer 48 for channel 1
[D 883407317] RTSP: Allocating frame buffer 49 for channel 1
[D 883407664] RTSP: Allocating frame buffer 50 for channel 1
[D 883407722] RTSP: Allocating frame buffer 51 for channel 1
[D 883407788] RTSP: Allocating frame buffer 52 for channel 1
[D 883408177] RTSP: Allocating frame buffer 53 for channel 1
[D 883408234] RTSP: Allocating frame buffer 54 for channel 1
[D 883408278] RTSP: Allocating frame buffer 55 for channel 1
[D 883408633] RTSP: Allocating frame buffer 56 for channel 1
[D 883408695] RTSP: Allocating frame buffer 57 for channel 1
[D 883408744] RTSP: Allocating frame buffer 58 for channel 1
[D 883409090] RTSP: Allocating frame buffer 59 for channel 1
[D 883409152] RTSP: Initializing clients
[D 883409190] RTSP: Initializing client 0
[D 883409515] RTSP: Initializing client 1
[D 883409575] RTSP: Initializing client 2
[D 883409622] RTSP: Initializing client 3
[D 883409655] RTSP: Initializing client 4
[D 883409685] RTSP: Initializing client 5
[D 883410032] RTSP: Initializing client 6
[D 883410081] RTSP: Initializing client 7
[D 883410113] RTSP: RTSP server created successfully
[E 883410150] RTSP_MODULE: RTSP: Configuring stream 0 (ch0): 1920x1080, bitrate=2048
[Encoder] GetChnAttr: chn=0
[D 883410525] RTSP: Adding stream: ch0 (channel 0, H264)
[D 883410569] RTSP: Reallocating streams array (current count: 0)
[D 883410611] RTSP: Copying stream configuration
[D 883410923] RTSP: Stream added successfully (total streams: 1)
[Encoder] RequestIDR: chn=0
[HW_Encoder] RequestIDR: next frame will be IDR
[Encoder] StartRecvPic: chn=0
[I 883411045] RTSP: Starting RTSP server
[I 883411545] RTSP: Creating listen socket...
[I 883411621] RTSP: Listen socket created successfully
[I 883411665] RTSP: Binding socket to port 554...
[I 883411729] RTSP: Socket bound successfully to port 554
[I 883412047] RTSP: Setting socket to listen mode...
[I 883412120] RTSP: Socket listening successfully
[I 883412162] RTSP: Starting RTSP server thread...
[I 883412442] RTSP: RTSP server thread started successfully
[I 883412837] RTSP: Starting RTP thread...
[I 883412969] RTSP: RTP thread started successfully
[I 883413315] RTSP: RTSP server started successfully on port 554
[I 883413614] MODULE: Module 'rtsp' started successfully
[I 883413697] MODULE: Module start complete: 1 success, 0 errors
[I 883413738] main: Modules started
[I 883413793] SNAPSHOT_FALLBACK: Snapshot fallback initialized (dir=/tmp, interval=5000ms)
[I 883414125] SNAPSHOT_FALLBACK: HTTP module not available, starting snapshot fallback
[I 883414258] SNAPSHOT_FALLBACK: Snapshot fallback started
[I 883414609] main: Snapshot fallback system started
[I 883414658] main: Initialization complete, starting frame manager
[I 883414711] FRAME_MGR: Frame manager initialized successfully
[I 883414828] FRAME_MGR: Frame manager started successfully
[I 883415183] main: Frame manager started - using modular architecture
[I 883415630] FRAME_MGR: Frame processing thread started
[I 883416845] FRAME_MGR: 64MB SoC: Using aggressive polling timeout: 25ms (was 50ms)
[I 883416271] SNAPSHOT_FALLBACK: Snapshot fallback worker thread started
[D 883417499] SNAPSHOT_FALLBACK: Capturing snapshot for channel 0 to /tmp/snap0.jpg
[Encoder] RequestIDR: chn=4
[HW_Encoder] RequestIDR: next frame will be IDR
[Encoder] StartRecvPic: chn=4
[W 883417937] SNAPSHOT_FALLBACK: Polling JPEG stream timeout for channel 0
[Encoder] StopRecvPic: chn=4

[D 884018932] SNAPSHOT_FALLBACK: Capturing snapshot for channel 0 to /tmp/snap0.jpg

